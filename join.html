<!doctype html>
<html lang="zh-Hant">
<head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><title>加入遊戲</title></head>
<body style="background:#061427;color:#fff;text-align:center;padding:50px;font-family:sans-serif">
  <h2>加入房間</h2>
  <input id="pin" placeholder="PIN" style="padding:10px;margin:10px"><br>
  <input id="name" placeholder="名字" style="padding:10px;margin:10px"><br>
  <button id="btnJoin" style="padding:10px 20px;background:#32d583;border:none;border-radius:10px;font-weight:bold">進入</button>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyCmbM5JgUphfWil3ImVi7GFtVrfeE7jzm4",
      authDomain: "fe55-dbd87.firebaseapp.com",
      databaseURL: "https://fe55-dbd87-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "fe55-dbd87"
    };
    firebase.initializeApp(firebaseConfig);
    const hash = new URLSearchParams(location.hash.replace('#',''));
    if(hash.get('pin')) document.getElementById('pin').value = hash.get('pin');
    document.getElementById('btnJoin').onclick = async () => {
      const pin = document.getElementById('pin').value;
      const name = document.getElementById('name').value;
      if(!pin || !name) return alert("必填");
      location.href = `guest.html?pin=${pin}&name=${encodeURIComponent(name)}`;
    };
  </script>
</body>
</html>
